<div class="grid--full text-max-width">
  <div class="registration-form form-vertical">
    <p>Find a local dealer in your area to purchase professional blending equipment.</p>
    <form novalidate #f="ngForm" class="animate-floating-labels">
      <div class="grid">
        <div class="grid__item">
          <div class="grid__item large--one-half push--large--one-quarter">
            <select class="input-full" name="state" [(ngModel)]="state">
              <option value="default">Choose State</option>
              <option *ngFor="let state of states$ | async | orderBy: ['name']" [value]="state.short">
                {{ state.name }}
              </option>
            </select>
          </div>
        </div>
        <div class="grid__item">
          <h2 *ngIf="(reps$ | async | filterBy: ['stateCode']: f.value.state).length > 0">Reps</h2>
          <div class="grid__item">
            <div *ngFor="let rep of reps$ | async | filterBy: ['stateCode']: f.value.state">
              <app-rep-card [dealer]="rep"></app-rep-card>
            </div>
          </div>
        </div>
        <div class="grid__item">
          <h2 *ngIf="(dealers$ | async | filterBy: ['stateCode']: f.value.state).length > 0">Dealers</h2>
          <div class="grid__item">
            <div *ngFor="let d of dealers$ | async | filterBy: ['stateCode']: f.value.state">
             <app-rep-card [dealer]="d"></app-rep-card>
            </div>
          </div>
        </div>
      </div>
    </form>
  </div>
</div>
